# План разработки мобильного приложения "ДокторДом"

## Принципы разработки
- После выполнения задач этапа, необходимо проверить приложение и исправить баги, если они есть
- Не переходить к следующему этапу, пока приложение не будет работать корректно
- После каждого этапа добавлять пункт "на тестировании"
- Работа по плану шаг за шагом, выполняя одну задачу в каждой итерации
- Фиксация всех заглушек для последующей замены на боевые настройки и ключи

## Этап 1: Настройка проекта и базовая конфигурация
- [x] Инициализация проекта React Native с Expo
- [x] Настройка ESLint и Prettier
- [x] Настройка TypeScript
- [x] Настройка системы навигации
- [x] Настройка темы приложения
- [x] Создание базовых компонентов интерфейса

Статус: Завершен ✅

## Этап 2: Реализация аутентификации и пользовательского профиля
- [x] Создание Splash-экрана
- [x] Создание экрана входа в приложение
- [x] Реализация формы регистрации пользователя 
- [x] Настройка валидации форм
- [x] Создание контекста аутентификации

Статус: Завершен ✅

## Этап 3: Разработка основных функций приложения
- [x] Разработка экрана личного кабинета пользователя
- [x] Разработка экрана заказов с историей и активными заказами
- [x] Разработка экрана категорий услуг
- [x] Разработка экрана деталей услуги с возможностью заказа
- [x] Разработка экрана списка мастеров
- [x] Интеграция с формой оценок и отзывов
- [x] Создание формы оформления заказа

Статус: Завершен ✅

## Этап 4: Экран "Услуги"
- [x] Создание компонента карточки услуги
- [x] Разработка экрана со списком услуг по категориям
- [x] Создание фильтрации и поиска услуг
- [x] Реализация загрузки данных с индикатором загрузки
- [x] Настройка обработки ошибок при загрузке данных
- [x] Реализация заглушки для API получения списка услуг
- [x] Добавление функционала перехода к оформлению заказа

Статус: Завершен ✅

## Этап 5: Оформление заказа - Шаг 1 (Выбор адреса)
- [x] Интеграция карты (Google Maps или Yandex.Maps)
- [x] Создание компонента поиска адреса
- [x] Реализация автозаполнения при вводе адреса
- [x] Добавление функционала установки маркера на карте
- [x] Сохранение выбранного адреса (координаты и текстовое представление)
- [x] Реализация заглушки для API геокодирования

Статус: Завершен ✅

## Этап 6: Оформление заказа - Шаг 2 и 3 (Описание и подтверждение)
- [x] Создание экрана для ввода описания задачи
- [x] Разработка экрана подтверждения информации о заказе
- [x] Реализация выбора даты с помощью календаря
- [x] Добавление выбора временного слота из доступных
- [x] Реализация заглушки для API доступности временных слотов
- [x] Настройка валидации всех полей перед отправкой заказа

Статус: Завершен ✅

## Этап 7: Отправка заказа и экран "Заказы"
- [x] Реализация отправки данных заказа на сервер
- [x] Создание экрана "Заказы" с вкладками "Активные" и "История"
- [x] Разработка компонента карточки заказа
- [x] Реализация загрузки списка заказов пользователя
- [x] Добавление функционала отмены заказа
- [x] Реализация заглушки для API работы с заказами
- [x] Создание экрана с деталями заказа

Статус: Завершен ✅

## Этап 8: Экран "Профиль" и финальные доработки
- [x] Создание экрана профиля пользователя
- [x] Реализация отображения информации о пользователе
- [x] Добавление функционала выхода из приложения
- [x] Оптимизация производительности приложения
- [x] Улучшение UX/UI (анимации, переходы между экранами)
- [x] Обработка крайних случаев и ошибок
- [x] Финальное тестирование всего приложения

Статус: Завершен ✅

## Этап 9: Интеграция с Supabase и подготовка к релизу
- [ ] Настройка подключения к Supabase
- [ ] Замена всех заглушек на реальные API вызовы
- [ ] Настройка политик доступа в Supabase
- [ ] Финальное тестирование с реальным бэкендом
- [ ] Подготовка к публикации (иконка, сплеш-скрин, метаданные)
- [ ] Оптимизация размера сборки
- [ ] Создание инструкции по установке и использованию

Статус: Не начат ⏳

## Заглушки в приложении
- Аутентификация (mock данные пользователя в AuthContext)
- API для получения услуг (будет добавлено)
- API для работы с заказами (будет добавлено)

## Структура базы данных

### Таблицы

#### users
- id: uuid (primary key)
- email: string (unique)
- password_hash: string
- created_at: timestamp
- phone: string (nullable)
- name: string (nullable)
- city: string (nullable)

#### service_categories
- id: uuid (primary key)
- name: string
- icon: string
- order: integer

#### services
- id: uuid (primary key)
- category_id: uuid (foreign key -> service_categories.id)
- name: string
- description: text (nullable)
- price_from: decimal
- unit: string
- active: boolean
- created_at: timestamp

#### specialists
- id: uuid (primary key)
- name: string
- specialty: string
- rating: decimal
- experience_years: integer
- photo_url: string (nullable)

#### orders
- id: uuid (primary key)
- user_id: uuid (foreign key -> users.id)
- service_id: uuid (foreign key -> services.id)
- specialist_id: uuid (foreign key -> specialists.id, nullable)
- description: text
- address: string
- lat: decimal
- lng: decimal
- scheduled_date: date
- scheduled_time_from: time
- scheduled_time_to: time
- status: enum ('pending', 'in_progress', 'completed', 'cancelled')
- created_at: timestamp
- updated_at: timestamp

#### service_availability
- id: uuid (primary key)
- service_id: uuid (foreign key -> services.id)
- date: date
- time_from: time
- time_to: time
- is_available: boolean

#### reviews
- id: uuid (primary key)
- order_id: uuid (foreign key -> orders.id)
- user_id: uuid (foreign key -> users.id)
- specialist_id: uuid (foreign key -> specialists.id)
- rating: integer
- comment: text
- created_at: timestamp 